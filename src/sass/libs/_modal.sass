/**
 * Modal window for images
 */
$modal-transition: 400ms
$black: #111

.modal
  position: fixed
  top: 0
  right: 0
  bottom: 0
  left: 0
  z-index: 30
  background: rgba($black, .9)
  transform: translateX(-100%)
  opacity: 0
  transition: 0ms $modal-transition transform, $modal-transition opacity
  // backdrop-filter: blur(4px)
  &::after
    content: ''
    position: absolute
    top: 1rem
    right: 1rem
    display: block
    width: 6rem
    height: 6rem
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='none' stroke='%23F2F3F4' stroke-linecap='round' stroke-linejoin='round' stroke-width='32' d='M368 368L144 144M368 144L144 368'/%3E%3C/svg%3E")
    background-position: center
    background-repeat: no-repeat
    background-size: 3rem
    cursor: pointer
    transition: opacity $modal-transition

  &__img
    position: absolute
    top: 50%
    left: 50%
    transform: translate3d(-50%, -50%, 0) scale3d(.99, .99, .99)
    max-width: 90vw
    max-height: 80vh
    box-shadow: 0 1rem 3rem 0 rgba(0, 0, 0, 0.35)
    opacity: 0
    transition: $modal-transition opacity, $modal-transition transform


.modal-is-open
  // overflow: hidden
  .modal
    transform: translateX(0)
    opacity: 1
    transition: 300ms opacity


.modal-is-loaded
  .modal
    &::before
      opacity: 0

    &__img
      transform: translate3d(-50%, -50%, 0) scale3d(1, 1, 1)
      opacity: 1
